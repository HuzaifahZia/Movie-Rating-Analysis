---
title: "18F-0240_7A_MovieRatingAnalysis"
author: "18F-0240"
date: "12/19/2021"
output: pdf_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

## R Markdown

This is an R Markdown document. Markdown is a simple formatting syntax for authoring HTML, PDF, and MS Word documents. For more details on using R Markdown see <http://rmarkdown.rstudio.com>.

When you click the **Knit** button a document will be generated that includes both content as well as the output of any embedded R code chunks within the document. You can embed an R code chunk like this:

## Google Trend Analysis
Github link: "https://github.com/HuzaifahZia/Google-Search-Analytics-/blob/main/18F-0240_7A_GoogleTrendsAnalytics.Rmd"

Installing Libraries
```{r}
library(ggplot2)
library(ggthemes)
library(scales)
library(dplyr)
library(lessR)
```


```{r}
movies = do.call(rbind,strsplit(readLines('movies.dat'),'::',fixed=T))
movies <- as.data.frame(movies)
head(movies)
```


```{r}
colnames(movies) <- c("ID","Title","Genre")
movies$ID <- as.numeric(movies$ID)
head(movies)
```

```{r}
ratings = read.delim("ratings.dat", header= FALSE ,sep = ':', colClasses = c(NA, "NULL"))
head(ratings)
```

```{r}
colnames(ratings) <- c("User","ID","Ratings","Timestamp")
head(ratings)
```

```{r}
data = merge(movies,ratings,by = "ID")
data = data[with(data, order(ID)),]
head(data)
```


```{r}
ratings<- dplyr::count(data, Ratings, sort = TRUE) %>% 
  mutate(perc = `n` / sum(`n`)) %>% 
  arrange(perc) %>%
  mutate(labels = scales::percent(perc))

ggplot(ratings, aes(x = "", y = perc, fill = factor(Ratings)),alpha = 0.8) +
  geom_col() +
  geom_text(aes(label = labels),
            position = position_stack(vjust = 0.5)) +
  coord_polar(theta = "y")
```

